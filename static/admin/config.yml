backend:
  name: github
  branch: craig-starting-from-scratch
  api_root: https://api.github.com # needed if not using Netlify Identity
  repo: closeio/engineering.close.com

  commit_messages:
    create: 'Create {{collection}} “{{slug}}”'
    update: 'Update {{collection}} “{{slug}}”'
    delete: 'Delete {{collection}} “{{slug}}”'
    uploadMedia: '[skip ci] Upload “{{path}}”'
    deleteMedia: '[skip ci] Delete “{{path}}”'

publish_mode: editorial_workflow
site_url: https://engineering.close.com

local_backend: true # beta feature

media_folder: static/assets/uploads
public_folder: /assets/uploads

collections:
  - name: settings
    label: Settings
    files:
      - name: config
        label: Config
        file: site-meta-data.json
        fields:
          - widget: string
            name: title
            label: Site Title
            required: true
          - widget: string
            name: siteUrl
            label: Website URL
            required: true
          - widget: text
            name: description
            label: Description
            default: ''
            required: false
          - widget: object
            name: home
            label: Homepage Options
            fields:
              - widget: string
                name: title
                label: Title
                default: ''
                required: false
              - widget: markdown
                name: description
                label: Description
                default: ''
                required: false
  - name: posts
    label: Posts
    label_singular: 'Post'
    extension: 'md'
    folder: _data/posts
    slug: '{{year}}-{{month}}-{{day}}-{{slug}}'
    create: true
    summary: '{{title}}'
    view_filters:
      - label: 'Design Posts'
        field: tags
        pattern: 'design'
      - label: 'Engineering Posts'
        field: tags
        pattern: 'engineering'
      - label: 'Posts published in 2020'
        field: date
        pattern: '2020'
      - label: Drafts
        field: draft
        pattern: true
    fields:
      - { label: Template, name: template, widget: hidden, default: BlogPost }
      - name: permalink
        label: Permalink
        widget: string
        pattern: ['/', 'Must start with a /']
      - { name: date, label: Date, widget: datetime }
      - { name: title, label: Title }
      - { name: tags, label: Tags, widget: list, label_singular: Tag }
      - name: metaDescription
        label: Meta Description
        widget: text
        required: false
      - label: Featured Image
        name: thumbnail
        widget: image
        hint: 'Image size 1280x800 works best :)'
        required: false
        media_library:
          config:
            multiple: false
      - { name: body, label: Body, widget: markdown }
